(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();function N(){}function mt(e,t){for(const r in t)e[r]=t[r];return e}function Qe(e){return e()}function De(){return Object.create(null)}function x(e){e.forEach(Qe)}function et(e){return typeof e=="function"}function tt(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let X;function Ae(e,t){return X||(X=document.createElement("a")),X.href=t,e===X.href}function yt(e){return Object.keys(e).length===0}function S(e,t){e.appendChild(t)}function Ce(e,t,r){e.insertBefore(t,r||null)}function oe(e){e.parentNode.removeChild(e)}function gt(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function R(e){return document.createElement(e)}function rt(e){return document.createTextNode(e)}function te(){return rt(" ")}function nt(e,t,r,n){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}function P(e,t,r){r==null?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function _t(e){return Array.from(e.childNodes)}function bt(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function W(e,t,r){e.classList[r?"add":"remove"](t)}let Te;function F(e){Te=e}const B=[],Me=[],re=[],Be=[],wt=Promise.resolve();let je=!1;function Ot(){je||(je=!0,wt.then(it))}function Re(e){re.push(e)}const ge=new Set;let Z=0;function it(){const e=Te;do{for(;Z<B.length;){const t=B[Z];Z++,F(t),St(t.$$)}for(F(null),B.length=0,Z=0;Me.length;)Me.pop()();for(let t=0;t<re.length;t+=1){const r=re[t];ge.has(r)||(ge.add(r),r())}re.length=0}while(B.length);for(;Be.length;)Be.pop()();je=!1,ge.clear(),F(e)}function St(e){if(e.fragment!==null){e.update(),x(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Re)}}const ne=new Set;let E;function Pt(){E={r:0,c:[],p:E}}function Mt(){E.r||x(E.c),E=E.p}function q(e,t){e&&e.i&&(ne.delete(e),e.i(t))}function Ee(e,t,r,n){if(e&&e.o){if(ne.has(e))return;ne.add(e),E.c.push(()=>{ne.delete(e),n&&(r&&e.d(1),n())}),e.o(t)}else n&&n()}function jt(e,t){const r={},n={},i={$$scope:1};let o=e.length;for(;o--;){const a=e[o],l=t[o];if(l){for(const s in a)s in l||(n[s]=1);for(const s in l)i[s]||(r[s]=l[s],i[s]=1);e[o]=l}else for(const s in a)i[s]=1}for(const a in n)a in r||(r[a]=void 0);return r}function Rt(e){return typeof e=="object"&&e!==null?e:{}}function Et(e){e&&e.c()}function ot(e,t,r,n){const{fragment:i,after_update:o}=e.$$;i&&i.m(t,r),n||Re(()=>{const a=e.$$.on_mount.map(Qe).filter(et);e.$$.on_destroy?e.$$.on_destroy.push(...a):x(a),e.$$.on_mount=[]}),o.forEach(Re)}function at(e,t){const r=e.$$;r.fragment!==null&&(x(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function zt(e,t){e.$$.dirty[0]===-1&&(B.push(e),Ot(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ut(e,t,r,n,i,o,a,l=[-1]){const s=Te;F(e);const c=e.$$={fragment:null,ctx:[],props:o,update:N,not_equal:i,bound:De(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(s?s.$$.context:[])),callbacks:De(),dirty:l,skip_bound:!1,root:t.target||s.$$.root};a&&a(c.root);let u=!1;if(c.ctx=r?r(e,t.props||{},(f,h,...b)=>{const p=b.length?b[0]:h;return c.ctx&&i(c.ctx[f],c.ctx[f]=p)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](p),u&&zt(e,f)),h}):[],c.update(),u=!0,x(c.before_update),c.fragment=n?n(c.ctx):!1,t.target){if(t.hydrate){const f=_t(t.target);c.fragment&&c.fragment.l(f),f.forEach(oe)}else c.fragment&&c.fragment.c();t.intro&&q(e.$$.fragment),ot(e,t.target,t.anchor,t.customElement),it()}F(s)}class st{$destroy(){at(this,1),this.$destroy=N}$on(t,r){if(!et(r))return N;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(r),()=>{const i=n.indexOf(r);i!==-1&&n.splice(i,1)}}$set(t){this.$$set&&!yt(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Ct="/slay-the-spire-random-character-choice/assets/Ironclad.5d55b0a9.webp",Tt="/slay-the-spire-random-character-choice/assets/Silent.c01bbe57.webp",kt="/slay-the-spire-random-character-choice/assets/Defect.b1c0ff53.webp",Lt="/slay-the-spire-random-character-choice/assets/Watcher.6d3b1458.webp";var d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_e={},V={},ae={},ke={},T={};Object.defineProperty(T,"__esModule",{value:!0});T.settings=void 0;T.settings={debug:!1,gravity:800,zIndex:99999,respectReducedMotion:!0};var z={},k={};Object.defineProperty(k,"__esModule",{value:!0});k.overrideDefaults=void 0;function $t(e,t){return Object.assign({},e,t)}k.overrideDefaults=$t;var ue={},O={},se={};Object.defineProperty(se,"__esModule",{value:!0});se.Circle=void 0;var Vt=function(){function e(t,r,n){n===void 0&&(n=0),this.x=t,this.y=r,this.radius=n}return e.zero=new e(0,0),e}();se.Circle=Vt;var le={},M={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.approximately=e.clamp=e.invlerp=e.slerp=e.lerp=e.epsilon=e.rad2deg=e.deg2rad=void 0,e.deg2rad=Math.PI/180,e.rad2deg=180/Math.PI,e.epsilon=1e-6;function t(a,l,s){return(1-s)*a+s*l}e.lerp=t;function r(a,l,s){return t(a,l,(1-Math.cos(s*Math.PI))/2)}e.slerp=r;function n(a,l,s){return(s-a)/(l-a)}e.invlerp=n;function i(a,l,s){return Math.min(s,Math.max(l,a))}e.clamp=i;function o(a,l){return Math.abs(a-l)<e.epsilon}e.approximately=o})(M);Object.defineProperty(le,"__esModule",{value:!0});le.Color=void 0;var be=M,It=function(){function e(t,r,n){this.values=new Float32Array(3),this.rgb=[t,r,n]}return Object.defineProperty(e.prototype,"r",{get:function(){return this.values[0]},set:function(t){this.values[0]=Math.floor(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"g",{get:function(){return this.values[1]},set:function(t){this.values[1]=Math.floor(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"b",{get:function(){return this.values[2]},set:function(t){this.values[2]=Math.floor(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rgb",{get:function(){return[this.r,this.g,this.b]},set:function(t){this.r=t[0],this.g=t[1],this.b=t[2]},enumerable:!1,configurable:!0}),e.prototype.mix=function(t,r){return r===void 0&&(r=.5),new e(be.lerp(this.r,t.r,r),be.lerp(this.g,t.g,r),be.lerp(this.b,t.b,r))},e.prototype.toHex=function(){var t=function(r){return r.toString(16).padStart(2,"0")};return"#"+t(this.r)+t(this.g)+t(this.b)},e.prototype.toString=function(){return"rgb("+this.values.join(", ")+")"},e.fromHex=function(t){return t.startsWith("#")&&(t=t.substr(1)),new e(parseInt(t.substr(0,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(4,2),16))},e.fromHsl=function(t,r,n){if(t/=360,r/=100,n/=100,r===0)return new e(n,n,n);var i=function(s,c,u){return u<0&&(u+=1),u>1&&(u-=1),u<.16666666666666666?s+(c-s)*6*u:u<.5?c:u<.6666666666666666?s+(c-s)*(.6666666666666666-u)*6:s},o=function(s){return Math.min(255,256*s)},a=n<.5?n*(1+r):n+r-n*r,l=2*n-a;return new e(o(i(l,a,t+1/3)),o(i(l,a,t)),o(i(l,a,t-1/3)))},e.white=new e(255,255,255),e.black=new e(0,0,0),e}();le.Color=It;var ce={},H={};Object.defineProperty(H,"__esModule",{value:!0});H.Spline=void 0;var Dt=M,At=function(){function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length===0)throw new Error("Splines require at least one key.");if(Array.isArray(t[0]))throw new Error("You are trying to pass an array to the spline constructor, which is not supported. Try to spread the array into the constructor instead.");this.keys=t}return e.prototype.evaluate=function(t){if(this.keys.length===0)throw new Error("Attempt to evaluate a spline with no keys.");if(this.keys.length===1)return this.keys[0].value;var r=this.keys.sort(function(l,s){return l.time-s.time}),n=r.findIndex(function(l){return l.time>t});if(n===0)return r[0].value;if(n===-1)return r[r.length-1].value;var i=r[n-1],o=r[n],a=Dt.invlerp(i.time,o.time,t);return this.interpolate(i.value,o.value,a)},e}();H.Spline=At;var Bt=d&&d.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ft=d&&d.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(ce,"__esModule",{value:!0});ce.Gradient=void 0;var qt=H,Nt=function(e){Bt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.interpolate=function(r,n,i){return r.mix(n,i)},t.solid=function(r){return new t({value:r,time:.5})},t.simple=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=1/(r.length-1);return new(t.bind.apply(t,Ft([void 0],r.map(function(o,a){return{value:o,time:a*i}}))))},t}(qt.Spline);ce.Gradient=Nt;var fe={},xt=d&&d.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(fe,"__esModule",{value:!0});fe.NumericSpline=void 0;var Ht=M,Gt=H,Kt=function(e){xt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.interpolate=function(r,n,i){return Ht.slerp(r,n,i)},t}(Gt.Spline);fe.NumericSpline=Kt;var de={};Object.defineProperty(de,"__esModule",{value:!0});de.Rect=void 0;var Yt=function(){function e(t,r,n,i){n===void 0&&(n=0),i===void 0&&(i=0),this.x=t,this.y=r,this.width=n,this.height=i}return e.fromScreen=function(){return new e(window.scrollX,window.scrollY,window.innerWidth,window.innerHeight)},e.fromElement=function(t){var r=t.getBoundingClientRect();return new e(window.scrollX+r.x,window.scrollY+r.y,r.width,r.height)},e.zero=new e(0,0),e}();de.Rect=Yt;var L={},Ut=d&&d.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(L,"__esModule",{value:!0});L.Vector=void 0;var J=M,Xt=function(){function e(t,r,n){t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),this.values=new Float32Array(3),this.xyz=[t,r,n]}return Object.defineProperty(e.prototype,"x",{get:function(){return this.values[0]},set:function(t){this.values[0]=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.values[1]},set:function(t){this.values[1]=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"z",{get:function(){return this.values[2]},set:function(t){this.values[2]=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"xyz",{get:function(){return[this.x,this.y,this.z]},set:function(t){this.values[0]=t[0],this.values[1]=t[1],this.values[2]=t[2]},enumerable:!1,configurable:!0}),e.prototype.magnitude=function(){return Math.sqrt(this.sqrMagnitude())},e.prototype.sqrMagnitude=function(){return this.x*this.x+this.y*this.y+this.z*this.z},e.prototype.add=function(t){return new e(this.x+t.x,this.y+t.y,this.z+t.z)},e.prototype.subtract=function(t){return new e(this.x-t.x,this.y-t.y,this.z-t.z)},e.prototype.scale=function(t){return typeof t=="number"?new e(this.x*t,this.y*t,this.z*t):new e(this.x*t.x,this.y*t.y,this.z*t.z)},e.prototype.normalized=function(){var t=this.magnitude();return t!==0?this.scale(1/t):new(e.bind.apply(e,Ut([void 0],this.xyz)))},e.prototype.angle=function(t){return J.rad2deg*Math.acos((this.x*t.x+this.y*t.y+this.z*t.z)/(this.magnitude()*t.magnitude()))},e.prototype.cross=function(t){return new e(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)},e.prototype.dot=function(t){return this.magnitude()*t.magnitude()*Math.cos(J.deg2rad*this.angle(t))},e.prototype.toString=function(){return"Vector("+this.values.join(", ")+")"},e.from2dAngle=function(t){return new e(Math.cos(t*J.deg2rad),Math.sin(t*J.deg2rad))},e.zero=new e(0,0,0),e.one=new e(1,1,1),e.right=new e(1,0,0),e.up=new e(0,1,0),e.forward=new e(0,0,1),e}();L.Vector=Xt;(function(e){var t=d&&d.__createBinding||(Object.create?function(n,i,o,a){a===void 0&&(a=o),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]}),r=d&&d.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(se,e),r(le,e),r(ce,e),r(fe,e),r(de,e),r(L,e)})(O);Object.defineProperty(ue,"__esModule",{value:!0});ue.rotationToNormal=void 0;var Fe=O,qe=M;function Wt(e){var t=e.x*qe.deg2rad,r=e.y*qe.deg2rad,n=new Fe.Vector(Math.cos(r),0,Math.sin(r)),i=new Fe.Vector(0,Math.cos(t),Math.sin(t));return n.cross(i)}ue.rotationToNormal=Wt;var G={};Object.defineProperty(G,"__esModule",{value:!0});G.despawningRules=void 0;G.despawningRules={lifetime:function(e){return e.lifetime<=0},bounds:function(e){var t=document.documentElement.scrollHeight;return e.location.y>t}};var he={};Object.defineProperty(he,"__esModule",{value:!0});he.Lazy=void 0;var Zt=function(){function e(t,r){r===void 0&&(r=e.defaultExists),this.factory=t,this.exists=r}return Object.defineProperty(e.prototype,"current",{get:function(){return this.exists(this.value)||(this.value=this.factory()),this.value},enumerable:!1,configurable:!0}),e.defaultExists=function(t){return typeof t<"u"},e}();he.Lazy=Zt;(function(e){var t=d&&d.__createBinding||(Object.create?function(n,i,o,a){a===void 0&&(a=o),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]}),r=d&&d.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(k,e),r(ue,e),r(G,e),r(he,e)})(z);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.particleContainer=e.debugContainer=e.rootContainer=void 0;var t=T,r=z,n="party-js-";function i(a){return a&&a.isConnected}function o(a,l,s){var c=document.createElement("div");return c.id=n+a,Object.assign(c.style,l),s.appendChild(c)}e.rootContainer=new r.Lazy(function(){return o("container",{position:"fixed",left:"0",top:"0",height:"100vh",width:"100vw",pointerEvents:"none",userSelect:"none",zIndex:t.settings.zIndex.toString()},document.body)},i),e.debugContainer=new r.Lazy(function(){return o("debug",{position:"absolute",top:"0",left:"0",margin:"0.5em",padding:"0.5em 1em",border:"2px solid rgb(0, 0, 0, 0.2)",background:"rgb(0, 0, 0, 0.1)",color:"#555",fontFamily:"monospace"},e.rootContainer.current)},i),e.particleContainer=new r.Lazy(function(){return o("particles",{width:"100%",height:"100%",overflow:"hidden",perspective:"1200px"},e.rootContainer.current)},i)})(ke);var Jt=d&&d.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(ae,"__esModule",{value:!0});ae.Debug=void 0;var Qt=ke,Ne=T,er=function(){function e(t){this.scene=t,this.refreshRate=8,this.refreshTimer=1/this.refreshRate}return e.prototype.tick=function(t){var r=Qt.debugContainer.current,n=Ne.settings.debug?"block":"none";r.style.display!==n&&(r.style.display=n),Ne.settings.debug&&(this.refreshTimer+=t,this.refreshTimer>1/this.refreshRate&&(this.refreshTimer=0,r.innerHTML=this.getDebugInformation(t).join("<br>")))},e.prototype.getDebugInformation=function(t){var r=this.scene.emitters.length,n=this.scene.emitters.reduce(function(a,l){return a+l.particles.length},0),i=["<b>party.js Debug</b>","--------------","FPS: "+Math.round(1/t),"Emitters: "+r,"Particles: "+n],o=this.scene.emitters.map(function(a){return["\u2B6F: "+(a.currentLoop+1)+"/"+(a.options.loops>=0?a.options.loops:"\u221E"),"\u03A3p: "+a.particles.length,a.isExpired?"<i>expired</i>":"\u03A3t: "+a.durationTimer.toFixed(3)+"s"].join(", ")});return i.push.apply(i,Jt(["--------------"],o)),i},e}();ae.Debug=er;var K={},y={},g={};Object.defineProperty(g,"__esModule",{value:!0});g.randomInsideCircle=g.randomInsideRect=g.randomUnitVector=g.pick=g.randomRange=void 0;var Le=O,tr=M;function C(e,t){return e===void 0&&(e=0),t===void 0&&(t=1),tr.lerp(e,t,Math.random())}g.randomRange=C;function rr(e){return e.length===0?void 0:e[Math.floor(Math.random()*e.length)]}g.pick=rr;function nr(){var e=C(0,2*Math.PI),t=C(-1,1);return new Le.Vector(Math.sqrt(1-t*t)*Math.cos(e),Math.sqrt(1-t*t)*Math.sin(e),t)}g.randomUnitVector=nr;function ir(e){return new Le.Vector(e.x+C(0,e.width),e.y+C(0,e.height))}g.randomInsideRect=ir;function or(e){var t=C(0,2*Math.PI),r=C(0,e.radius);return new Le.Vector(e.x+Math.cos(t)*r,e.y+Math.sin(t)*r)}g.randomInsideCircle=or;Object.defineProperty(y,"__esModule",{value:!0});y.gradientSample=y.splineSample=y.skewRelative=y.skew=y.range=y.evaluateVariation=void 0;var pe=g;function ar(e){return Array.isArray(e)?pe.pick(e):typeof e=="function"?e():e}y.evaluateVariation=ar;function ur(e,t){return function(){return pe.randomRange(e,t)}}y.range=ur;function sr(e,t){return function(){return e+pe.randomRange(-t,t)}}y.skew=sr;function lr(e,t){return function(){return e*(1+pe.randomRange(-t,t))}}y.skewRelative=lr;function lt(e){return function(){return e.evaluate(Math.random())}}y.splineSample=lt;function cr(e){return lt(e)}y.gradientSample=cr;var ct={},ve={};Object.defineProperty(ve,"__esModule",{value:!0});ve.getDefaultEmitterOptions=void 0;var xe=G;function fr(){return{duration:5,loops:1,useGravity:!0,maxParticles:300,despawningRules:[xe.despawningRules.lifetime,xe.despawningRules.bounds],modules:[]}}ve.getDefaultEmitterOptions=fr;var me={},_={};Object.defineProperty(_,"__esModule",{value:!0});_.circleSource=_.rectSource=_.mouseSource=_.elementSource=_.dynamicSource=void 0;var ie=O,$e=g;function dr(e){if(e instanceof HTMLElement)return ft(e);if(e instanceof ie.Circle)return pt(e);if(e instanceof ie.Rect)return ht(e);if(e instanceof MouseEvent)return dt(e);throw new Error("Cannot infer the source type of '"+e+"'.")}_.dynamicSource=dr;function ft(e){return function(){return $e.randomInsideRect(ie.Rect.fromElement(e))}}_.elementSource=ft;function dt(e){return function(){return new ie.Vector(window.scrollX+e.clientX,window.scrollY+e.clientY)}}_.mouseSource=dt;function ht(e){return function(){return $e.randomInsideRect(e)}}_.rectSource=ht;function pt(e){return function(){return $e.randomInsideCircle(e)}}_.circleSource=pt;Object.defineProperty(me,"__esModule",{value:!0});me.getDefaultEmissionOptions=void 0;var we=O,hr=_;function pr(){return{rate:10,angle:0,bursts:[],sourceSampler:hr.rectSource(we.Rect.zero),initialLifetime:5,initialSpeed:5,initialSize:1,initialRotation:we.Vector.zero,initialColor:we.Color.white}}me.getDefaultEmissionOptions=pr;var ye={};Object.defineProperty(ye,"__esModule",{value:!0});ye.getDefaultRendererOptions=void 0;function vr(){return{shapeFactory:"square",applyColor:mr,applyOpacity:yr,applyLighting:gr,applyTransform:_r}}ye.getDefaultRendererOptions=vr;function mr(e,t){var r=e.toHex();switch(t.nodeName.toLowerCase()){case"div":t.style.background=r;break;case"svg":t.style.fill=t.style.color=r;break;default:t.style.color=r;break}}function yr(e,t){t.style.opacity=e.toString()}function gr(e,t){t.style.filter="brightness("+(.5+Math.abs(e))+")"}function _r(e,t){t.style.transform="translateX("+(e.location.x-window.scrollX).toFixed(3)+"px) "+("translateY("+(e.location.y-window.scrollY).toFixed(3)+"px) ")+("translateZ("+e.location.z.toFixed(3)+"px) ")+("rotateX("+e.rotation.x.toFixed(3)+"deg) ")+("rotateY("+e.rotation.y.toFixed(3)+"deg) ")+("rotateZ("+e.rotation.z.toFixed(3)+"deg) ")+("scale("+e.size.toFixed(3)+")")}(function(e){var t=d&&d.__createBinding||(Object.create?function(n,i,o,a){a===void 0&&(a=o),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]}),r=d&&d.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(ve,e),r(me,e),r(ye,e)})(ct);var Y={};Object.defineProperty(Y,"__esModule",{value:!0});Y.Particle=void 0;var Q=O,br=k,wr=function(){function e(t){var r=br.overrideDefaults({lifetime:0,size:1,location:Q.Vector.zero,rotation:Q.Vector.zero,velocity:Q.Vector.zero,color:Q.Color.white,opacity:1},t);this.id=Symbol(),this.size=this.initialSize=r.size,this.lifetime=this.initialLifetime=r.lifetime,this.rotation=this.initialRotation=r.rotation,this.location=r.location,this.velocity=r.velocity,this.color=r.color,this.opacity=r.opacity}return e}();Y.Particle=wr;Object.defineProperty(K,"__esModule",{value:!0});K.Emitter=void 0;var He=L,Or=T,j=y,Oe=k,Se=ct,Sr=Y,Pr=function(){function e(t){this.particles=[],this.currentLoop=0,this.durationTimer=0,this.emissionTimer=0,this.attemptedBurstIndices=[],this.options=Oe.overrideDefaults(Se.getDefaultEmitterOptions(),t==null?void 0:t.emitterOptions),this.emission=Oe.overrideDefaults(Se.getDefaultEmissionOptions(),t==null?void 0:t.emissionOptions),this.renderer=Oe.overrideDefaults(Se.getDefaultRendererOptions(),t==null?void 0:t.rendererOptions)}return Object.defineProperty(e.prototype,"isExpired",{get:function(){return this.options.loops>=0&&this.currentLoop>=this.options.loops},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canRemove",{get:function(){return this.particles.length===0},enumerable:!1,configurable:!0}),e.prototype.clearParticles=function(){return this.particles.splice(0).length},e.prototype.tick=function(t){if(!this.isExpired&&(this.durationTimer+=t,this.durationTimer>=this.options.duration&&(this.currentLoop++,this.durationTimer=0,this.attemptedBurstIndices=[]),!this.isExpired)){for(var r=0,n=0,i=this.emission.bursts;n<i.length;n++){var o=i[n];if(o.time<=this.durationTimer&&!this.attemptedBurstIndices.includes(r)){for(var a=j.evaluateVariation(o.count),l=0;l<a;l++)this.emitParticle();this.attemptedBurstIndices.push(r)}r++}this.emissionTimer+=t;for(var s=1/this.emission.rate;this.emissionTimer>s;)this.emissionTimer-=s,this.emitParticle()}for(var c=function(f){var h=u.particles[f];u.tickParticle(h,t),u.options.despawningRules.some(function(b){return b(h)})&&u.particles.splice(f,1)},u=this,l=this.particles.length-1;l>=0;l--)c(l)},e.prototype.tickParticle=function(t,r){t.lifetime-=r,this.options.useGravity&&(t.velocity=t.velocity.add(He.Vector.up.scale(Or.settings.gravity*r))),t.location=t.location.add(t.velocity.scale(r));for(var n=0,i=this.options.modules;n<i.length;n++){var o=i[n];o(t)}},e.prototype.emitParticle=function(){var t=new Sr.Particle({location:this.emission.sourceSampler(),lifetime:j.evaluateVariation(this.emission.initialLifetime),velocity:He.Vector.from2dAngle(j.evaluateVariation(this.emission.angle)).scale(j.evaluateVariation(this.emission.initialSpeed)),size:j.evaluateVariation(this.emission.initialSize),rotation:j.evaluateVariation(this.emission.initialRotation),color:j.evaluateVariation(this.emission.initialColor)});return this.particles.push(t),this.particles.length>this.options.maxParticles&&this.particles.shift(),t},e}();K.Emitter=Pr;var I={},Ve={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.resolveShapeFactory=e.resolvableShapes=void 0;var t=y;e.resolvableShapes={square:'<div style="height: 10px; width: 10px;"></div>',rectangle:'<div style="height: 6px; width: 10px;"></div>',circle:'<svg viewBox="0 0 2 2" width="10" height="10"><circle cx="1" cy="1" r="1" fill="currentColor"/></svg>',roundedSquare:'<div style="height: 10px; width: 10px; border-radius: 3px;"></div>',roundedRectangle:'<div style="height: 6px; width: 10px; border-radius: 3px;"></div>',star:'<svg viewBox="0 0 512 512" width="15" height="15"><polygon fill="currentColor" points="512,197.816 325.961,185.585 255.898,9.569 185.835,185.585 0,197.816 142.534,318.842 95.762,502.431 255.898,401.21 416.035,502.431 369.263,318.842"/></svg>'};function r(n){var i=t.evaluateVariation(n);if(typeof i=="string"){var o=e.resolvableShapes[i];if(!o)throw new Error("Failed to resolve shape key '"+i+"'. Did you forget to add it to the 'resolvableShapes' lookup?");var a=document.createElement("div");return a.innerHTML=o,a.firstElementChild}return i}e.resolveShapeFactory=r})(Ve);var Ge;function Mr(){if(Ge)return I;Ge=1,Object.defineProperty(I,"__esModule",{value:!0}),I.Renderer=void 0;var e=U(),t=L,r=ke,n=Ve,i=z,o=function(){function a(){this.elements=new Map,this.light=new t.Vector(0,0,1),this.enabled=!0,this.enabled=!e.settings.respectReducedMotion||!window.matchMedia("(prefers-reduced-motion)").matches}return a.prototype.begin=function(){this.renderedParticles=[]},a.prototype.end=function(){for(var l=this.elements.keys(),s=l.next();!s.done;){var c=s.value;this.renderedParticles.includes(c)||(this.elements.get(c).remove(),this.elements.delete(c)),s=l.next()}return this.renderedParticles.length},a.prototype.renderParticle=function(l,s){if(!!this.enabled){var c=s.renderer,u=this.elements.has(l.id)?this.elements.get(l.id):this.createParticleElement(l,c);if(c.applyColor&&c.applyColor(l.color,u),c.applyOpacity&&c.applyOpacity(l.opacity,u),c.applyLighting){var f=i.rotationToNormal(l.rotation),h=f.dot(this.light);c.applyLighting(h,u)}c.applyTransform&&c.applyTransform(l,u),this.renderedParticles.push(l.id)}},a.prototype.createParticleElement=function(l,s){var c=n.resolveShapeFactory(s.shapeFactory),u=c.cloneNode(!0);return u.style.position="absolute",this.elements.set(l.id,r.particleContainer.current.appendChild(u)),u},a}();return I.Renderer=o,I}var Ke;function jr(){if(Ke)return V;Ke=1,Object.defineProperty(V,"__esModule",{value:!0}),V.Scene=void 0;var e=ae,t=K,r=Mr(),n=function(){function i(){this.emitters=[],this.debug=new e.Debug(this),this.renderer=new r.Renderer,this.scheduledTickId=void 0,this.lastTickTimestamp=performance.now(),this.tick=this.tick.bind(this),this.scheduleTick()}return i.prototype.createEmitter=function(o){var a=new t.Emitter(o);return this.emitters.push(a),a},i.prototype.clearEmitters=function(){return this.emitters.splice(0).length},i.prototype.clearParticles=function(){return this.emitters.reduce(function(o,a){return o+a.clearParticles()},0)},i.prototype.scheduleTick=function(){this.scheduledTickId=window.requestAnimationFrame(this.tick)},i.prototype.cancelTick=function(){window.cancelAnimationFrame(this.scheduledTickId)},i.prototype.tick=function(o){var a=(o-this.lastTickTimestamp)/1e3;try{for(var l=0;l<this.emitters.length;l++){var s=this.emitters[l];s.tick(a),s.isExpired&&s.canRemove&&this.emitters.splice(l--,1)}}catch(p){console.error(`An error occurred while updating the scene's emitters:
"`+p+'"')}try{this.renderer.begin();for(var c=0,u=this.emitters;c<u.length;c++)for(var s=u[c],f=0,h=s.particles;f<h.length;f++){var b=h[f];this.renderer.renderParticle(b,s)}this.renderer.end()}catch(p){console.error(`An error occurred while rendering the scene's particles:
"`+p+'"')}this.debug.tick(a),this.lastTickTimestamp=o,this.scheduleTick()},i}();return V.Scene=n,V}var Pe={},D={},$={};Object.defineProperty($,"__esModule",{value:!0});$.ModuleBuilder=void 0;var Rr=O,Er=function(){function e(){this.factor="lifetime",this.isRelative=!1}return e.prototype.drive=function(t){return this.driverKey=t,this},e.prototype.through=function(t){return this.factor=t,this},e.prototype.by=function(t){return this.driverValue=t,this},e.prototype.relative=function(t){return t===void 0&&(t=!0),this.isRelative=t,this},e.prototype.build=function(){var t=this;if(typeof this.driverKey>"u")throw new Error("No driving key was provided in the module builder. Did you forget a '.drive()' call?");if(typeof this.driverValue>"u")throw new Error("No driving value was provided in the module builder. Did you forget a '.through()' call?");return function(r){ze(r,t.driverKey,zr(t.driverValue,Cr(t.factor,r),r),t.isRelative)}},e}();$.ModuleBuilder=Er;function zr(e,t,r){return typeof e=="object"&&"evaluate"in e?e.evaluate(t):typeof e=="function"?e(t,r):e}function Cr(e,t){switch(e){case"lifetime":return t.initialLifetime-t.lifetime;case"relativeLifetime":return(t.initialLifetime-t.lifetime)/t.initialLifetime;case"size":return t.size;default:throw new Error("Invalid driving factor '"+e+"'.")}}function ze(e,t,r,n){if(n===void 0&&(n=!1),!n)e[t]=r;else{var i=e["initial"+t[0].toUpperCase()+t.substr(1)];if(typeof i>"u")throw new Error("Unable to use relative chaining with key '"+t+"'; no initial value exists.");if(r instanceof Rr.Vector)ze(e,t,i.add(r));else if(typeof r=="number")ze(e,t,i*r);else throw new Error("Unable to use relative chaining with particle key '"+t+"'; no relative operation for '"+r+"' could be inferred.")}}var Ye;function Tr(){if(Ye)return D;Ye=1,Object.defineProperty(D,"__esModule",{value:!0}),D.confetti=void 0;var e=U(),t=O,r=$,n=g,i=_,o=y,a=z;function l(s,c){var u=a.overrideDefaults({count:o.range(20,40),spread:o.range(35,45),speed:o.range(300,600),size:o.skew(1,.2),rotation:function(){return n.randomUnitVector().scale(180)},color:function(){return t.Color.fromHsl(n.randomRange(0,360),100,70)},modules:[new r.ModuleBuilder().drive("size").by(function(h){return Math.min(1,h*3)}).relative().build(),new r.ModuleBuilder().drive("rotation").by(function(h){return new t.Vector(140,200,260).scale(h)}).relative().build()],shapes:["square","circle"]},c),f=e.scene.current.createEmitter({emitterOptions:{loops:1,duration:8,modules:u.modules},emissionOptions:{rate:0,bursts:[{time:0,count:u.count}],sourceSampler:i.dynamicSource(s),angle:o.skew(-90,o.evaluateVariation(u.spread)),initialLifetime:8,initialSpeed:u.speed,initialSize:u.size,initialRotation:u.rotation,initialColor:u.color},rendererOptions:{shapeFactory:u.shapes}});return f}return D.confetti=l,D}var A={},Ue;function kr(){if(Ue)return A;Ue=1,Object.defineProperty(A,"__esModule",{value:!0}),A.sparkles=void 0;var e=U(),t=O,r=$,n=g,i=_,o=y,a=z;function l(s,c){var u=a.overrideDefaults({lifetime:o.range(1,2),count:o.range(10,20),speed:o.range(100,200),size:o.range(.8,1.8),rotation:function(){return new t.Vector(0,0,n.randomRange(0,360))},color:function(){return t.Color.fromHsl(50,100,n.randomRange(55,85))},modules:[new r.ModuleBuilder().drive("rotation").by(function(h){return new t.Vector(0,0,200).scale(h)}).relative().build(),new r.ModuleBuilder().drive("size").by(new t.NumericSpline({time:0,value:0},{time:.3,value:1},{time:.7,value:1},{time:1,value:0})).through("relativeLifetime").relative().build(),new r.ModuleBuilder().drive("opacity").by(new t.NumericSpline({time:0,value:1},{time:.5,value:1},{time:1,value:0})).through("relativeLifetime").build()],shapes:"star"},c),f=e.scene.current.createEmitter({emitterOptions:{loops:1,duration:3,useGravity:!1,modules:u.modules},emissionOptions:{rate:0,bursts:[{time:0,count:u.count}],sourceSampler:i.dynamicSource(s),angle:o.range(0,360),initialLifetime:u.lifetime,initialSpeed:u.speed,initialSize:u.size,initialRotation:u.rotation,initialColor:u.color},rendererOptions:{applyLighting:void 0,shapeFactory:u.shapes}});return f}return A.sparkles=l,A}var Xe;function Lr(){return Xe||(Xe=1,function(e){var t=d&&d.__createBinding||(Object.create?function(n,i,o,a){a===void 0&&(a=o),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]}),r=d&&d.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Tr(),e),r(kr(),e)}(Pe)),Pe}var We;function U(){return We||(We=1,function(e){var t=d&&d.__createBinding||(Object.create?function(c,u,f,h){h===void 0&&(h=f),Object.defineProperty(c,h,{enumerable:!0,get:function(){return u[f]}})}:function(c,u,f,h){h===void 0&&(h=f),c[h]=u[f]}),r=d&&d.__exportStar||function(c,u){for(var f in c)f!=="default"&&!Object.prototype.hasOwnProperty.call(u,f)&&t(u,c,f)};Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.forceInit=e.util=e.math=e.random=e.sources=e.variation=e.Emitter=e.Particle=e.settings=e.scene=void 0;var n=jr(),i=z;r(O,e),r(Lr(),e),r(Ve,e),r($,e),e.scene=new i.Lazy(function(){if(typeof document>"u"||typeof window>"u")throw new Error("It seems like you are trying to run party.js in a non-browser-like environment, which is not supported.");return new n.Scene});var o=T;Object.defineProperty(e,"settings",{enumerable:!0,get:function(){return o.settings}});var a=Y;Object.defineProperty(e,"Particle",{enumerable:!0,get:function(){return a.Particle}});var l=K;Object.defineProperty(e,"Emitter",{enumerable:!0,get:function(){return l.Emitter}}),e.variation=y,e.sources=_,e.random=g,e.math=M,e.util=z;function s(){e.scene.current}e.forceInit=s,e.default=U()}(_e)),_e}var ee=U();function $r(e){let t,r;return{c(){t=R("img"),Ae(t.src,r=e[4][e[0]])||P(t,"src",r),P(t,"alt",e[0]),P(t,"class","svelte-mtn8ee"),W(t,"disabled",e[1]),W(t,"chosen",e[2])},m(n,i){Ce(n,t,i),e[6](t)},p(n,[i]){i&1&&!Ae(t.src,r=n[4][n[0]])&&P(t,"src",r),i&1&&P(t,"alt",n[0]),i&2&&W(t,"disabled",n[1]),i&4&&W(t,"chosen",n[2])},i:N,o:N,d(n){n&&oe(t),e[6](null)}}}function Vr(e,t,r){let n,{name:i}=t,{disabled:o}=t,{chosen:a}=t;const l={Ironclad:Ct,Silent:Tt,Defect:kt,Watcher:Lt};let s;function c(u){Me[u?"unshift":"push"](()=>{s=u,r(3,s)})}return e.$$set=u=>{"name"in u&&r(0,i=u.name),"disabled"in u&&r(1,o=u.disabled),"chosen"in u&&r(2,a=u.chosen)},e.$$.update=()=>{e.$$.dirty&12&&r(5,n=s==null&&!a?null:s.getBoundingClientRect()),e.$$.dirty&32&&console.log(n),e.$$.dirty&36&&a&&ee.confetti(new ee.Circle((n.left+n.right)/2,n.top-.1*(n.top-n.bottom),3),{count:80,spread:30,size:ee.variation.skew(1.2,.8),speed:ee.variation.range(400,700)})},[i,o,a,s,l,n,c]}class Ir extends st{constructor(t){super(),ut(this,t,Vr,$r,tt,{name:0,disabled:1,chosen:2})}}function Ze(e,t,r){const n=e.slice();return n[6]=t[r],n[7]=t,n[8]=r,n}function Je(e){let t,r,n,i,o,a;const l=[e[6],{chosen:!!e[1]&&e[6].name===e[1].name}];let s={};for(let u=0;u<l.length;u+=1)s=mt(s,l[u]);r=new Ir({props:s});function c(){return e[4](e[6],e[7],e[8])}return{c(){t=R("span"),Et(r.$$.fragment),n=te(),P(t,"class","char svelte-1fdx3ox")},m(u,f){Ce(u,t,f),ot(r,t,null),S(t,n),i=!0,o||(a=nt(t,"click",c),o=!0)},p(u,f){e=u;const h=f&3?jt(l,[f&1&&Rt(e[6]),{chosen:!!e[1]&&e[6].name===e[1].name}]):{};r.$set(h)},i(u){i||(q(r.$$.fragment,u),i=!0)},o(u){Ee(r.$$.fragment,u),i=!1},d(u){u&&oe(t),at(r),o=!1,a()}}}function Dr(e){let t,r,n,i,o,a,l,s,c,u,f,h,b=e[0],p=[];for(let v=0;v<b.length;v+=1)p[v]=Je(Ze(e,b,v));const vt=v=>Ee(p[v],1,1,()=>{p[v]=null});return{c(){t=R("main"),r=R("h1"),r.textContent="Let faith choose your hero...",n=te(),i=R("div");for(let v=0;v<p.length;v+=1)p[v].c();o=te(),a=R("button"),l=rt(e[2]),s=te(),c=R("div"),c.innerHTML=`<p>Click on a character to include/exclude it from choice.</p> 

    <p class="disclaimer svelte-1fdx3ox">All assets taken from the official <a href="https://slay-the-spire.fandom.com/wiki/">Slay the Spire Wiki</a>.</p>`,P(i,"class","chars"),P(t,"class","svelte-1fdx3ox")},m(v,w){Ce(v,t,w),S(t,r),S(t,n),S(t,i);for(let m=0;m<p.length;m+=1)p[m].m(i,null);S(t,o),S(t,a),S(a,l),S(t,s),S(t,c),u=!0,f||(h=nt(a,"click",e[3]),f=!0)},p(v,[w]){if(w&3){b=v[0];let m;for(m=0;m<b.length;m+=1){const Ie=Ze(v,b,m);p[m]?(p[m].p(Ie,w),q(p[m],1)):(p[m]=Je(Ie),p[m].c(),q(p[m],1),p[m].m(i,null))}for(Pt(),m=b.length;m<p.length;m+=1)vt(m);Mt()}(!u||w&4)&&bt(l,v[2])},i(v){if(!u){for(let w=0;w<b.length;w+=1)q(p[w]);u=!0}},o(v){p=p.filter(Boolean);for(let w=0;w<p.length;w+=1)Ee(p[w]);u=!1},d(v){v&&oe(t),gt(p,v),f=!1,h()}}}function Ar(e,t,r){let n,i,o=[{name:"Ironclad",disabled:!1},{name:"Silent",disabled:!1},{name:"Defect",disabled:!1},{name:"Watcher",disabled:!1}],a=null;function l(){if(a)o.map(c=>c.chosen=!1),r(1,a=null);else{if(i.length===0)return;r(1,a=i[Math.floor(Math.random()*i.length)]),r(1,a.chosen=!0,a)}}const s=(c,u,f)=>{r(0,u[f].disabled=!c.disabled,o)};return e.$$.update=()=>{e.$$.dirty&2&&r(2,n=a?"Reset":"Roll the dice!"),e.$$.dirty&1&&(i=o.filter(c=>!c.disabled))},[o,a,n,l,s]}class Br extends st{constructor(t){super(),ut(this,t,Ar,Dr,tt,{})}}new Br({target:document.getElementById("app")});
